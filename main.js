(()=>{"use strict";class e{constructor(e,t){this.name=e,this.number=t}}class t{constructor(e,t,c,o,s){this.title=e,this.description=t,this.description=c,this.priority=o,this.number=s}}class c{static showAlert(e,t){const c=document.createElement("div");c.className=`alert alert-${t} text-center`,c.appendChild(document.createTextNode(e)),document.querySelector("#section-1").appendChild(c)}static getProjectName(){let e;return e=null===localStorage.getItem("projects")?[]:JSON.parse(localStorage.getItem("projects")),e}static storeProjectName(e){const t=c.getProjectName();t.push(e),localStorage.setItem("projects",JSON.stringify(t))}static countProject(){let e=Number(localStorage.getItem("lastProjectId"));return null===e?e=0:(e+=1,localStorage.setItem("lastProjectId",e)),e}static getTask(){let e;return null===localStorage.getItem("tasks")?e=[]:projects=JSON.parse(localStorage.getItem("tasks")),e}static storeTask(e){c.getTask().push(e),localStorage.setItem("tasks",JSON.stringify("tasks"))}static addProjectName(){document.getElementById("section-1").innerHTML="",c.getProjectName().forEach((e=>{const t=document.createElement("div");t.innerHTML=`${e.name}<i class="fas ml-5 fa-trash-alt" ></i>`,t.classList.add("text-white","text-center","mt-4","shared"),t.id=e.number,t.style.cursor="pointer",o.appendChild(t);let c=!1;const s=document.getElementById("section-1");t.addEventListener("click",(()=>{const t=document.createElement("div"),o=document.createElement("div");o.style.cursor="pointer",o.innerHTML="+",t.innerHTML=e.name,!1===c&&t?(s.appendChild(t),t.style.marginLeft="20%",c=!0):(s.children[0].remove(),c=!1),t.appendChild(o),t.addEventListener("click",(()=>{const e=document.getElementById("task-form");e.classList.remove("d-none"),e.classList.add("d-block")}))})),t.children[0].setAttribute("onclick",`removeProject(${e.number})`)}))}}window.removeProject=e=>{const t=c.getProjectName();t.forEach(((c,o)=>{c.number===e&&t.splice(o,1)})),document.getElementById(e).remove(),localStorage.setItem("projects",JSON.stringify(t)),c.addProjectName(),c.showAlert("Project Removed","success"),setTimeout((()=>{}),3e3)},document.getElementById("section-1");const o=document.createElement("div");sideNav.appendChild(o);const s=document.createElement("div");s.innerHTML="default",s.classList.add("text-white","text-center"),o.appendChild(s),sideNav.appendChild(o),document.querySelector("#project-form").addEventListener("submit",(t=>{t.preventDefault();const o=document.querySelector("#title").value;if(""===o)c.showAlert("Please fill in all fields","danger"),setTimeout((()=>{}),3e3);else{const t=new e(o,c.countProject());c.storeProjectName(t),c.addProjectName(),c.showAlert("project added successfuly","success"),setTimeout((()=>{}),3e3)}})),document.querySelector("#task-form").addEventListener("submit",(e=>{e.preventDefault();const o=document.querySelector("#title").value,s=document.querySelector("#description").value,r=document.querySelector("#date").value,n=document.getElementsByName("priority");let a,l=function(){for(;;)n[0].checked&&(a=n[0].checked);return a}();if(console.log(l),""===o||""===s||""==r)!1===a.checked&&(c.showAlert("Please fill in all fields","danger"),setTimeout((()=>{window.location.reload()}),3e3));else{const e=new t(o,s,r,a,countProject());c.storeTask(e),c.showAlert("Task added successfuly","success"),setTimeout((()=>{window.location.reload()}),3e3)}})),document.addEventListener("DOMContentLoaded",c.addProjectName())})();