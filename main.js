(()=>{class e{constructor(e,t){this.name=e,this.number=t,this.tasks=[]}}class t{static getProjectName(){let e;return e=null===localStorage.getItem("projects")?[]:JSON.parse(localStorage.getItem("projects")),e}static getSelected(){let e;return e=null===localStorage.getItem("selectedId")?[]:JSON.parse(localStorage.getItem("selectedId")),e}static storeSelected(e){let s=t.getSelected();for(;s.length>0;)s.pop();s.push(e),localStorage.setItem("selectedId",JSON.stringify(s))}static storeProjectName(e){const s=t.getProjectName();s.push(e),localStorage.setItem("projects",JSON.stringify(s))}static countProject(){let e=Number(localStorage.getItem("lastProjectId"));return null===e?e=0:(e+=1,localStorage.setItem("lastProjectId",e)),e}static showAlert(e,t){const s=document.createElement("div");s.className=`alert alert-${t} text-center`,s.appendChild(document.createTextNode(e)),document.querySelector("#section-1").appendChild(s)}static renderDisplay(e){const s=t.getProjectName(),o=document.getElementById("sideNavList");for(;o.firstChild;)o.remove(o.firstChild);s.forEach((s=>{const r=document.createElement("li");r.innerHTML=`${s.name}<i class="fas ml-5 fa-trash-alt" ></i>`,e.id===r.id&&(r.classList.remove("text-danger"),r.classList.add("text-danger")),r.classList.add("text-center","mt-4","list-unstyled"),r.id=s.number,r.style.cursor="pointer",o.appendChild(r),o.addEventListener("click",(e=>{if("li"===e.target.tagName.toLowerCase()){t.storeSelected(e.target.id);const s=t.getSelected();console.log(s[0]),s[0]===e.target.id&&e.target.classList.add("text-danger")}})),r.children[0].setAttribute("onclick",`removeProject(${s.number})`)}))}static addProjectName(){const e=t.getProjectName(),s=document.getElementById("sideNavList");e.forEach((e=>{const o=document.createElement("li");o.innerHTML=`${e.name}<i class="fas ml-5 fa-trash-alt" ></i>`,o.classList.add("text-white","text-center","mt-4","list-unstyled"),o.id=e.number,o.style.cursor="pointer",s.appendChild(o),s.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(t.storeSelected(e.target.id),t.getSelected()[0]===e.target.id&&(console.log("sucees"),t.renderDisplay()))})),o.children[0].setAttribute("onclick",`removeProject(${e.number})`)}))}}window.removeProject=e=>{const s=t.getProjectName();s.forEach(((t,o)=>{t.number===e&&s.splice(o,1)})),document.getElementById(e).parentNode.remove(),localStorage.setItem("projects",JSON.stringify(s)),t.addProjectName(),t.showAlert("Project Removed","success"),setTimeout((()=>{window.location.reload()}),3e3)};const s=document.getElementById("sideNavList"),o=document.createElement("li");o.innerHTML="default",o.classList.add("text-white","text-center","list-unstyled"),s.appendChild(o),document.getElementById("project-form").addEventListener("submit",(s=>{s.preventDefault();const o=document.querySelector("#title").value;if(""===o)t.showAlert("Please fill in all fields","danger"),setTimeout((()=>{}),3e3);else{const s=new e(o,t.countProject());t.storeProjectName(s),t.addProjectName(),t.showAlert("project added successfuly","success"),setTimeout((()=>{window.location.reload()}),3e3)}})),document.getElementById("task-form").addEventListener("submit",(e=>{e.preventDefault();const s=document.querySelector("#titletwo").value,o=document.querySelector("#description").value,r=document.querySelector("#date").value,c=document.querySelector('input[name="priority"]:checked').value;if(""===s||""===o||""==r||null==c)t.showAlert("Please fill in all fields","danger"),setTimeout((()=>{window.location.reload()}),3e3);else{const e=new Task(s,o,r,Task.countTask(),c);Task.storeTask(e),t.showAlert("Task added successfuly","success"),setTimeout((()=>{window.location.reload()}),3e3)}})),document.addEventListener("DOMContentLoaded",t.addProjectName())})();