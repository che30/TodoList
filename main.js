(()=>{"use strict";class e{static getProjectName(){let e;return e=null===localStorage.getItem("projects")?[]:JSON.parse(localStorage.getItem("projects")),e}static storeProjectName(t){const n=e.getProjectName();n.push(t),localStorage.setItem("projects",JSON.stringify(n))}static countProject(){let e=Number(localStorage.getItem("lastProjectId"));return null===e?e=0:(e+=1,localStorage.setItem("lastProjectId",e)),e}static showAlert(e,t){const n=document.createElement("div");n.className=`alert alert-${t} text-center`,n.appendChild(document.createTextNode(e)),document.querySelector("#section-1").appendChild(n)}static getTask(){let e;return null===localStorage.getItem("tasks")?e=[]:projects=JSON.parse(localStorage.getItem("tasks")),e}static storeTask(t){e.getTask().push(t),localStorage.setItem("tasks",JSON.stringify("tasks"))}static contain(){const e=document.getElementById("tableone"),t=document.createElement("div");return t.id="contain",e.appendChild(t),e}static show(){const t=e.getProjectName(),n=e.contain(),o=document.getElementById("contain");n.innerHTML="",t.forEach((e=>{const t=document.createElement("div");t.classList.add("text-center","proj"),t.id="newDiv",t.innerHTML=e.name;const c=document.createElement("div");o.appendChild(t),c.id=e.number,c.innerHTML="<span>+<span><span >Add task<span> ",c.style.fontSize="1rem",c.style.cursor="pointer",c.classList.add("rounded-circle"),t.appendChild(c),n.appendChild(o)}))}static addProjectName(){const t=document.getElementById("sideNav");t.innerHTML="",e.getProjectName().forEach((n=>{const o=document.createElement("div");o.innerHTML=`${n.name}<i class="fas ml-5 fa-trash-alt" ></i>`,o.classList.add("text-white","text-center","mt-4"),o.style.cursor="pointer";let c=!1;o.addEventListener("click",(()=>{if(!1===c){e.show();const t=document.getElementById("newDiv");console.log(t.children[0].children[0]),t.children[0].children[0].addEventListener("click",(()=>{document.getElementById("project-form").classList.add("d-none");const e=document.getElementById("task-form");e.classList.remove("d-none"),e.classList.add("d-block")})),c=!0}else document.querySelector(".proj").remove(),c=!1})),t.appendChild(o),o.children[0].id=n.number,o.children[0].setAttribute("onclick",`removeProject(${n.number})`)}))}}class t{constructor(e,t){this.name=e,this.number=t}}window.removeProject=t=>{const n=e.getProjectName();n.forEach(((e,o)=>{e.number===t&&n.splice(o,1)})),document.getElementById(t).parentNode.remove(),localStorage.setItem("projects",JSON.stringify(n)),e.addProjectName(),e.showAlert("Project Removed","success"),setTimeout((()=>{window.location.reload()}),3e3)};const n=document.getElementById("dp-btn");let o=!1;n.addEventListener("click",(()=>{const e=document.getElementById("project-form");!1===o?(e.classList.remove("d-none"),e.classList.add("d-block"),o=!0):(o=!1,e.classList.remove("d-block"),e.classList.add("d-none"))}));const c=document.getElementById("btnOne");let s=!1;c.addEventListener("click",(()=>{const e=document.querySelector("#tableone");!1===s?(e.classList.remove("d-none"),e.classList.add("d-block"),s=!0):(e.classList.remove("d-block"),e.classList.add("d-none"),s=!1)})),e.getProjectName().forEach((e=>{const t=document.getElementById("tableone"),n=document.createElement("div");n.classList.add("text-center","proj"),n.id="newDiv",n.innerHTML=e.name;const o=document.createElement("div");t.appendChild(n),o.id=e.number,o.innerHTML="<span>+<span><span >Add task<span> ",o.style.fontSize="1rem",o.style.cursor="pointer",o.classList.add("rounded-circle"),n.appendChild(o)})),document.querySelector("#project-form").addEventListener("submit",(n=>{n.preventDefault();const o=document.querySelector("#title").value;if(""===o)e.showAlert("Please fill in all fields","danger"),setTimeout((()=>{window.location.reload()}),3e3);else{const n=new t(o,e.countProject());e.storeProjectName(n),e.addProjectName(),e.showAlert("project added successfuly","success"),setTimeout((()=>{window.location.reload()}),3e3)}})),document.querySelector(".proj"),document.addEventListener("DOMContentLoaded",e.addProjectName())})();