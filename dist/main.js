(()=>{class e{constructor(e,t){this.name=e,this.number=t,this.tasks=[]}}class t{static getProjectName(){let e;return e=null===localStorage.getItem("projects")?[]:JSON.parse(localStorage.getItem("projects")),e}static getSelected(){let e;return e=null===localStorage.getItem("selectedId")?[]:JSON.parse(localStorage.getItem("selectedId")),e}static storeSelected(e){let c=t.getSelected();for(;c.length>0;)c.pop();c.push(e),localStorage.setItem("selectedId",JSON.stringify(c))}static storeProjectName(e){const c=t.getProjectName();c.push(e),localStorage.setItem("projects",JSON.stringify(c))}static countProject(){let e=Number(localStorage.getItem("lastProjectId"));return null===e?e=0:(e+=1,localStorage.setItem("lastProjectId",e)),e}static showAlert(e,t){const c=document.createElement("div");c.className=`alert alert-${t} text-center`,c.appendChild(document.createTextNode(e)),document.querySelector("#section-1").appendChild(c)}static renderSelected(e){const s=t.getProjectName(),r=document.getElementById("sideNavListchild");r.innerHTML="",c(),s.forEach((t=>{const c=document.createElement("li");c.innerHTML=`${t.name}<i class="fas ml-5 fa-trash-alt" ></i>`,c.classList.add("text-white","text-center","mt-4","list-unstyled"),c.id=t.number,parseInt(e[0])===parseInt(c.id)&&c.classList.add("text-danger"),c.style.cursor="pointer",r.appendChild(c),c.children[0].setAttribute("onclick",`removeProject(${t.number})`)}))}static renderRefresh(){const e=t.getSelected();t.renderSelected(e)}static addProjectName(){const e=t.getProjectName(),s=document.getElementById("sideNavListchild");s.innerHTML="",c(),e.forEach((e=>{const c=document.createElement("li");c.innerHTML=`${e.name}<i class="fas ml-5 fa-trash-alt" ></i>`,c.classList.add("text-white","text-center","mt-4","list-unstyled"),c.id=e.number,c.style.cursor="pointer",s.appendChild(c),s.addEventListener("click",(e=>{if("li"===e.target.tagName.toLowerCase()){t.storeSelected(e.target.id);const c=t.getSelected();t.renderSelected(c)}})),c.children[0].setAttribute("onclick",`removeProject(${e.number})`)}))}}function c(){const e=document.getElementById("sideNavListchild"),t=document.createElement("li");t.innerHTML="default",t.classList.add("text-white","text-center","list-unstyled"),e.appendChild(t)}window.removeProject=e=>{const c=t.getProjectName();c.forEach(((t,s)=>{t.number===e&&c.splice(s,1)})),document.getElementById(e).remove(),localStorage.setItem("projects",JSON.stringify(c)),t.addProjectName(),t.showAlert("Project Removed","success"),setTimeout((()=>{window.location.reload()}),3e3)},document.getElementById("project-form").addEventListener("submit",(c=>{c.preventDefault();const s=document.querySelector("#title").value;if(""===s)t.showAlert("Please fill in all fields","danger"),setTimeout((()=>{}),3e3);else{const c=new e(s,t.countProject());t.storeProjectName(c),t.addProjectName(),t.showAlert("project added successfuly","success"),setTimeout((()=>{window.location.reload()}),3e3)}})),document.getElementById("task-form").addEventListener("submit",(e=>{e.preventDefault();const c=document.querySelector("#titletwo").value,s=document.querySelector("#description").value,r=document.querySelector("#date").value,o=document.querySelector('input[name="priority"]:checked').value;if(""===c||""===s||""==r||null==o)t.showAlert("Please fill in all fields","danger"),setTimeout((()=>{window.location.reload()}),3e3);else{const e=new Task(c,s,r,Task.countTask(),o);Task.storeTask(e),t.showAlert("Task added successfuly","success"),setTimeout((()=>{window.location.reload()}),3e3)}})),c(),document.addEventListener("DOMContentLoaded",t.addProjectName(),t.renderRefresh())})();