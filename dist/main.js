(()=>{"use strict";var e={333:(e,t,s)=>{s.d(t,{Z:()=>r}),e=s.hmd(e);class r{constructor(e,t){this.name=e,this.number=t,this.tasks=[]}}e.exports=r},997:(e,t,s)=>{s.d(t,{Z:()=>r}),e=s.hmd(e);class r{constructor(e,t,s,r,o,a){this.title=e,this.description=t,this.date=s,this.priority=r,this.now=o,this.createBy=a}static getTask(){let e;return e=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),e}static storeTask(e){const t=r.getTask();t.push(e),localStorage.setItem("tasks",JSON.stringify(t))}}e.exports=r},78:(e,t,s)=>{s.d(t,{Z:()=>o});var r=s(333);e=s.hmd(e);class o{static delay(){setTimeout((()=>{window.location.reload()}),1e3)}static clearFields(){document.querySelector("#titletwo").value="",document.getElementById("description").value="",document.querySelector("#date").value=""}static getProjectName(){let e;return e=null===localStorage.getItem("projects")?[]:JSON.parse(localStorage.getItem("projects")),e}static getSelected(){let e;return e=null===localStorage.getItem("selectedId")?[0]:JSON.parse(localStorage.getItem("selectedId")),e}static renderColours(e){return"high"===e?"#FF33F9":"medium"===e?" #334FFF":"low"===e&&"#C70039"}static storeSelected(e){const t=o.getSelected();t.pop(),t.push(e),0===t.length&&t.push(t[0]),localStorage.setItem("selectedId",JSON.stringify(t))}static countProject(){let e=Number(localStorage.getItem("lastProjectId"));return null===e?e=1:(e+=1,localStorage.setItem("lastProjectId",e)),e}static storeProjectName(e){const t=o.getProjectName();t.push(e),localStorage.setItem("projects",JSON.stringify(t))}static synchro(e){const t=Number(e),s=o.getProjectName()[t],r=document.createElement("div"),a=document.getElementById("section-1"),c=document.getElementById("add-class-header");c.innerHTML=s.name,a.innerHTML="",c.innerHTML=s.name,a.appendChild(c),s.tasks.forEach((e=>{const t=document.createElement("h5");t.innerHTML=e.title,r.classList.add("d-flex","flex-wrap","justify-content-around"),r.id=e.id,t.classList.add("text-success","bg-grey","card-title");const s=document.createElement("div");s.classList.add("card");const a=document.createElement("div");a.classList.add("card-body");const n=document.createElement("p");n.innerHTML=`date: ${e.date}`;const l=document.createElement("p");l.innerHTML=`priority: ${e.priority}`,l.style.color=`${o.renderColours(e.priority)}`;const d=document.createElement("div"),i=document.createElement("span");i.innerHTML='<i class="fas fa-edit"></i>',i.id=e.now,i.setAttribute("onclick",`editTask(${e.now})`);const m=document.createElement("span");m.innerHTML='<i class="fas ml-5 fa-trash-alt" ></i>',m.id=e.now,m.setAttribute("onclick",`removeTask(${e.now})`),m.classList.add("text-danger"),n.classList.add("card-text");const u=document.createElement("p");u.innerHTML=`description: ${e.description}`,c.innerHTML=e.createBy,c.classList.add("text-center"),d.appendChild(i),d.appendChild(m),a.appendChild(t),a.appendChild(l),a.appendChild(u),a.appendChild(n),a.appendChild(d),s.appendChild(a),r.appendChild(s)})),a.appendChild(r),a.classList.remove("d-none"),a.classList.add("d-block");const n=document.getElementById("plus");n.style.display="block",n.addEventListener("click",(()=>{const e=document.getElementById("task-form");e.classList.remove("d-none"),e.classList.add("d-block")}))}static renderDefault(){if(0===o.getProjectName().length){const e=new r.Z("default",0);o.storeProjectName(e)}const e=o.getProjectName(),t=document.createElement("li");return t.innerHTML=`${e[0].name}`,t.id="0",t.classList.add("text-white","mr-5","text-center","list-unstyled"),t.style.cursor="pointer",t.addEventListener("click",(()=>{o.storeSelected(0),o.synchro(t.id)})),t}static addProjectName(){const e=o.getProjectName(),t=document.getElementById("sideNavListchild");t.innerHTML="",t.appendChild(o.renderDefault()),e.forEach((e=>{if(0!==e.number){const s=document.createElement("li");s.innerHTML=`${e.name}<i class="fas ml-3 fa-trash-alt" ></i>`,s.classList.add("text-white","mr-5","text-center","mt-4","list-unstyled"),s.id=e.number,s.style.cursor="pointer",t.appendChild(s),t.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&0!==Number(e.target.id)&&(o.storeSelected(e.target.id),e.target.setAttribute("onclick",o.synchro(e.target.id)))})),s.children[0].setAttribute("onclick",`removeProject(${e.number})`)}}))}static showAlert(e,t){const s=document.createElement("div");s.className=`alert alert-${t} text-center`;const r=document.getElementById("alert");s.appendChild(document.createTextNode(e)),r.appendChild(s)}}e.exports=o}},t={};function s(r){if(t[r])return t[r].exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,s),o.loaded=!0,o.exports}s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=s(78),t=s(333),r=s(997);window.removeProject=t=>{const s=e.Z.getProjectName(),r=e.Z.getSelected();let o;r.pop(),localStorage.setItem("selectedId",JSON.stringify(r)),s.forEach(((e,r)=>{e.number===t&&s.splice(r,1)})),document.getElementById(t).remove(),s.forEach(((e,t)=>{e.number=t,o=t}));let a=Number(localStorage.getItem("lastProjectId"));a=Number(o),localStorage.setItem("lastProjectId",JSON.stringify(a)),localStorage.setItem("projects",JSON.stringify(s)),e.Z.addProjectName(),e.Z.showAlert("Project Removed","success"),e.Z.delay()},window.removeTask=t=>{const s=r.Z.getTask(),o=e.Z.getProjectName();return o.forEach((e=>{e.tasks.forEach(((s,r)=>{Number(s.now)===t&&(e.tasks.splice(r,1),localStorage.setItem("projects",JSON.stringify(o)))}))})),s.forEach(((r,o)=>{Number(r.now)===t&&(s.splice(o,1),document.getElementById(t).parentNode.parentNode.parentNode.remove(),localStorage.setItem("tasks",JSON.stringify(s)),e.Z.showAlert("Task Removed","success"),e.Z.delay())})),s},window.editTask=t=>{let s;const o=r.Z.getTask();o.forEach(((e,r)=>{Number(e.now)===t&&(s=e,o.splice(r,1),localStorage.setItem("tasks",JSON.stringify(o)))}));const a=e.Z.getProjectName();a.forEach((e=>{e.tasks.forEach(((s,r)=>{Number(s.now)===t&&(e.tasks.splice(r,1),localStorage.setItem("projects",JSON.stringify(a)))}))})),document.getElementById(t),document.getElementById("task-form").classList.remove("d-none"),document.getElementById("task-form").classList.add("d-block"),document.querySelector("#titletwo").value=s.title,document.getElementById("description").value=s.description,document.querySelector("#date").value=s.date},document.getElementsByClassName("close")[0].onclick=function(){document.getElementById("task-form").classList.remove("d-block"),document.getElementById("task-form").classList.add("d-none")},document.getElementById("project-form").addEventListener("submit",(s=>{s.preventDefault();const r=document.querySelector("#title").value;if(""===r)e.Z.showAlert("Please fill in all fields","danger"),e.Z.delay();else{const s=new t.Z(r,e.Z.countProject());e.Z.storeProjectName(s),e.Z.addProjectName(),e.Z.showAlert("project added successfuly","success"),e.Z.delay()}})),document.getElementById("task-form").addEventListener("submit",(t=>{t.preventDefault();const s=document.querySelector("#titletwo"),o=document.getElementById("description"),a=document.querySelector("#date"),c=document.querySelector('input[name="priority"]:checked');if(""===s.value||""===o.value||""===a.value||null===c)e.Z.showAlert("Please fill in all fields","danger");else{const t=JSON.parse(localStorage.getItem("selectedId")),n=e.Z.getProjectName();if(console.log(Number(t[0])),0===Number(t[0])){const l=new r.Z(s.value,o.value,a.value,c.value,Date.now().toString(),n[0].name);r.Z.storeTask(l),n[Number(t[0])].tasks.push(l),localStorage.setItem("projects",JSON.stringify(n)),e.Z.clearFields()}else{const e=new r.Z(s.value,o.value,a.value,c.value,Date.now().toString(),n[Number(t[0])].name);r.Z.storeTask(e),n[Number(t[0])].tasks.push(e),localStorage.setItem("projects",JSON.stringify(n))}e.Z.clearFields(),e.Z.delay()}}));const o=Number(e.Z.getSelected());document.addEventListener("DOMContentLoaded",e.Z.addProjectName(),e.Z.synchro(o))})()})();